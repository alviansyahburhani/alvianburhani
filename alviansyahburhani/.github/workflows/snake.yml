name: Generate Snake
on:
schedule: [{cron: "0 0 * * *"}] # setiap hari
workflow_dispatch:
push: {branches: [main]}
jobs:
build:
runs-on: ubuntu-latest
steps:
- uses: Platane/snk@v3
with:
github_user_name: alviansyahburhani
outputs: |
dist/snake.svg
- uses: actions/upload-artifact@v4
with: {name: snake, path: dist/snake.svg}
- uses: actions/checkout@v4
- name: Commit snake
run: |
mkdir -p assets
cp dist/snake.svg assets/snake.svg
git config user.name "github-actions"
git config user.email "github-actions@github.com"
git add assets/snake.svg
git commit -m "chore: update snake" || echo "no changes"
git push
